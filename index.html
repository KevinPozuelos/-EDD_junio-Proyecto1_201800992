<!DOCTYPE html>
<html lang="en">

<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="./css/Cliente.css">
  <link rel="stylesheet" type="text/css" href="./css/slide.css">
  <script type="text/javascript" src="./js/Lineales/ListaDoble/ListaDoble.js"></script>
  <script src="//d3js.org/d3.v5.min.js"></script>
  <script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js"></script>
  <script src="https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js"></script>
  <script type="text/javascript" src="./js/Lineales/ListaDoble/ListaCircularDoble.js"></script>
  
</head>

<body>

  <script>
    function enablediv() {
      document.getElementById("login").style.display = "";
      document.getElementById("User-Home").style.display = "none";
    }

    function enablediv2() {
      document.getElementById("login").style.display = "none";
      document.getElementById("admin").style.display = "";
    }
    function enablediv3() {
      document.getElementById("ClienteCarga").style.display = "";
      document.getElementById("AutoresCarga").style.display = "none";
      document.getElementById("LibrosCarga").style.display = "none";

    }
    function enablediv4() {
      document.getElementById("AutoresCarga").style.display = "";
      document.getElementById("ClienteCarga").style.display = "none";
      document.getElementById("LibrosCarga").style.display = "none";
    }
    function enablediv5() {
      document.getElementById("AutoresCarga").style.display = "none";
      document.getElementById("ClienteCarga").style.display = "none";
      document.getElementById("LibrosCarga").style.display = "";
    }
    function enablediv6() {
      document.getElementById("admin").style.display = "none";
      document.getElementById("User-Home").style.display = "";
    }
    function enablediv7() {
      document.getElementById("login").style.display = "none";
      document.getElementById("User-Home").style.display = "";
    }
    function enablediv8() {
      
      document.getElementById("User-Home").style.display = "";
      document.getElementById("userLO1").textContent = "SignUp";
    }

    function enablediv9() {
      document.getElementById("Libros").style.display = "";
      document.getElementById("containerslide").style.display = "none";
    }


  </script>

  <div id="admin" style="display: none">
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">LIBERIA USAC</a>
        </div>
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Home</a></li>
          <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">CARGA <span
                class="caret"></span></a>
            <ul class="dropdown-menu">
              <li onclick="enablediv3()"><a href="#">CLIENTES</a></li>
              <li onclick="enablediv4()"><a href="#">AUTORES</a></li>
              <li onclick="enablediv5()"><a href="#">LIBROS</a></li>
            </ul>
          </li>
          <li><a href="#">IMAGENES</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li onclick="enablediv()"><a href="#" id="userLO"><span class="glyphicon glyphicon-user"></span> Sign Up</a>
          </li>
          <li onclick="enablediv6()"><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
        </ul>
      </div>
    </nav>

    <div class="container">
      <div id="ClienteCarga" style="display: none">
        <h2>Cargar masiva de clientes</h2>
        <input id="fileInput" type="file" size="50" onchange="processFilesUser(this.files, Cliente)">
        <div id="lienzo"></div>
        <button onclick="Cliente.dot2() ;">Graficar Clientes</button>
        <div class="cliente" id="fileOutput"></div>

      </div>

      <div id="AutoresCarga" style="display: none">
        <h2>Cargar masiva de Autores</h2>
        <input id="fileInputAutor" type="file" size="50" onchange="processFilesAutor(this.files, Autores)">
        <div id="lienzoAutor"></div>
        
        <div class="Autor" id="fileOutputAutor"></div>
        <button  onclick="Autores.dotGraph()">Graficar Arbol</button>
      </div>

      <div id="LibrosCarga" style="display: none">
        <h2>Cargar masiva de Libros</h2>
        <input id="fileInputLibros" type="file" size="50" onchange="processFilesLigros(this.files, Thriller, Fantasia, Libros)">
        <div id="lienzoLibro"></div>
          <button onclick="Thriller.hacerGrafica()">dispersa</button>
          <button onclick="Fantasia.graph()">ortogonal</button>
        <div class="Libro" id="fileOutputLibro"></div>
      </div>

    </div>
  </div>
  <div style="display: none" id="login">

    <div class="sidenav">
      <div class="login-main-text">
        <h2>Application<br> Login Page</h2>
        <p>Login or register from here to access.</p>
      </div>
    </div>
    <div class="main">
      <div class="col-md-6 col-sm-12">
        <div class="login-form">
          <form>
            <div class="form-group">
              <label>User Name</label>
              <input id="userN" type="text" class="form-control" placeholder="User Name">
            </div>
            <div class="form-group">
              <label>Password</label>
              <input id="pwL" type="password" class="form-control" placeholder="Password">
            </div>
            <button type="submit" class="btn btn-black" onclick="Login(Cliente)">Login</button>
            <button type="submit" class="btn btn-secondary">Register</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script language="JavaScript">


    function Login(lista) {

      var usuario = document.getElementById("userN").value;
      var password = document.getElementById("pwL").value;
      var rol = 'admin'
      if (usuario == "admin" && password == "admin" && rol == 'admin') {
        enablediv2();
        document.getElementById("userLO").textContent = usuario.toUpperCase();
        alert("BIENVENIDO ADMINISTRADOR");
      }else if (lista.buscarCliente(usuario, password) == "Usuario") {

        enablediv7();
        document.getElementById("userLO1").textContent = usuario.toUpperCase();

      }else if (lista.buscarCliente(usuario, password) == "Administrador") {
        enablediv2();
        document.getElementById("userLO").textContent = usuario.toUpperCase();
      } else {
        alert("Usuario o contraseña incorrectos");
      }
    }

    function processFilesUser(files, lista) {
      var file = files[0];
      console.log(file)
      var reader = new FileReader();


      reader.onload = function (e) {
        // Cuando éste evento se dispara, los datos están ya disponibles.
        // Se trata de copiarlos a una área <div> en la página.
        let jsona = JSON.parse(e.target.result);
        n = 0;
        while (n < jsona.length) {

          lista.addCliente(jsona[n].dpi, jsona[n].nombre_completo, jsona[n].nombre_usuario, jsona[n].correo, jsona[n].rol, jsona[n].contrasenia, jsona[n].telefono)
          n++;
        }

        var output = document.getElementById("fileOutput");
        output.textContent = e.target.result;

      }
      reader.readAsText(file);
    }

    function processFilesAutor(files, arbol) {
      var file = files[0];
      console.log(file)
      var reader = new FileReader();


      reader.onload = function (e) {
        // Cuando éste evento se dispara, los datos están ya disponibles.
        // Se trata de copiarlos a una área <div> en la página.
        let jsona = JSON.parse(e.target.result);
        n = 0;
        while (n < jsona.length) {

          arbol.insertar((jsona[n].nombre_autor).replace(/ /g, "ㅤ"))
          n++;
        }

        var output = document.getElementById("fileOutputAutor");
        output.textContent = e.target.result;

      }
      reader.readAsText(file);
    }
    function processFilesLigros(files, MatrizD, matrizO, libros) {
      var file = files[0];
      console.log(file)
      var reader = new FileReader();


      reader.onload = function (e) {
        // Cuando éste evento se dispara, los datos están ya disponibles.
        // Se trata de copiarlos a una área <div> en la página.
        let jsona = JSON.parse(e.target.result);
        n = 0;
        while (n < jsona.length) {

          if(jsona[n].categoria === "Fantasia"){
            matrizO.agregar(jsona[n].fila,jsona[n].columna,jsona[n].nombre_libro  )
            libros.insertar(jsona[n].nombre_libro, jsona[n].cantidad)
          }else if(jsona[n].categoria === "Thriller"){
            let fila = "x"+jsona[n].fila;
            let columna = "y"+jsona[n].columna;
            MatrizD.ingresar(jsona[n].nombre_libro, fila, columna)
            libros.insertar(jsona[n].nombre_libro, jsona[n].cantidad)
          }
          n++;
        }

        var output = document.getElementById("fileOutputLibro");
        output.textContent = e.target.result;

      }
      reader.readAsText(file);
    }

    

  </script>
  
  <script type="text/javascript" src="./js/Lineales/ListaDoble/ListadeListas.js"></script>
  <script type="text/javascript" src="./js/Lineales/Arboreas/abb.js"></script>
  <script type="text/javascript" src="./js/Lineales/Matriz/Dispersa.js"></script>
  <script type="text/javascript" src="./js/Lineales/Matriz/Ortogonal.js"></script>
  <script type="text/javascript" src="./js/Lineales/ListaDoble/libros.js"></script>
  <div id="User-Home">
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">LIBERIA USAC</a>
            </div>
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">MENU<span
                            class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li onclick="enablediv3()"><a href="#">COMPRA DE LIBROS</a></li>
                        <li onclick="enablediv4()"><a href="#">VISTA AUTORES</a></li>
                        <li onclick="enablediv9()"><a href="#">VISTA LIBROS </a></li>
                        <li onclick="enablediv9()"><a href="#">VISTA LIBRERIAS </a></li>
                    </ul>
                </li>
                <li onclick="Cliente.dot2()"><a href="#">IMAGENES</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li onclick="enablediv()"><a href="#" id="userLO1"><span class="glyphicon glyphicon-user"></span> Sign
                        Up</a>
                </li>
                <li onclick="enablediv8()"><a href="#"><span class="glyphicon glyphicon-log-in"></span> Logout</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>Catsbooks</h1>
        <div id="containerslide" class="containerslide">

            <ul class="slider">
              <li id="slide1">
                <img src="http://harpolibros.com/modules/homeslider/images/e2492742aae459d796d59a665850917763a8bb77_slide MUNDO DE SIETE POZOS.jpg"/>
              </li>
              <li id="slide2">
                <img src="http://harpolibros.com/modules/homeslider/images/6a1f27b459886d482870d7eeed4dedde73dacdd9_slide AUTE.jpg"/>
              </li>
              <li id="slide3">
                < <img src="http://harpolibros.com/modules/homeslider/images/848fb49bf2c4fb7f55963df2b14a273ae1dcac26_slide jon bilbao.jpg"/>
              </li>
              <li id="slide4">
                < <img src="http://harpolibros.com/modules/homeslider/images/3d8346adbcf6b9e001e681fb864c868643ed0008_slide EMILY.jpg"/>
              </li>
            </ul>
            
            <ul class="menu">
              <li>
                <a href="#slide1">1</a>
              </li>
              <li>
                <a href="#slide2">2</a>
              </li>
               <li>
                <a href="#slide3">3</a>
              </li>
                 <li>
                  <a href="#slide4">4</a>
                </li>
            </ul>
            <div>
              <h2>TOP CLIENTES</h2>
              <button>Mostrar</button>
              <div id="lienzoTop"></div>
            </div>
            
          </div>
         
       
          <div id="Compras" style="display: none">

          </div>
          <div id="Libros" style="display: none">
            <div id="lienzoAcendente">
                <button onclick="Libros.graficarCliente()">BubleSort</button>
            </div>
            <div id="lienzoDescendente" style="display: flex; justify-content: center;
              align-items: center;">
              <button onclick="Libros.graficarCliente2()">QuickSort</button>
          </div>
          </div>
          <div id="Autores" style="display: none">
      
          </div>
      </div>
        

       

    </div>
    

    
</body>

</html>
